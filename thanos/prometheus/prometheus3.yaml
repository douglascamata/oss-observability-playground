global:
  external_labels:
    prometheus: prom-2
remote_write:
  - url: http://thanos-receive:10908/api/v1/receive
  # - url: https://observatorium.apps.rhobs-testing.qqzf.p1.openshiftapps.com/api/metrics/v1/rhobs/api/v1/receive
  #   oauth2:
  #     client_secret: f0792197-2cce-456d-9fa2-e38a9b12965a
  #     client_id: observatorium-rhobs-testing
  #     endpoint_params:
  #       audience: observatorium-telemeter-testing
  #     token_url: https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/token

scrape_configs:
  # When the Thanos remote-write-receive component is started,
  # this is an example configuration of a Prometheus server that
  # would scrape a local node-exporter and replicate its data to
  # the remote write endpoint.
  - job_name: node
    scrape_interval: 15s
    static_configs:
      - targets: ["node-exporter:9100"]
  - job_name: prometheus
    scrape_interval: 15s
    static_configs:
      - targets:
          - "localhost:9091"
  - job_name: thanos-store
    scrape_interval: 15s
    static_configs:
      - targets:
          - "thanos-store:10906"
  - job_name: thanos-receive
    scrape_interval: 15s
    static_configs:
      - targets:
          - "thanos-receive:10909"
  - job_name: thanos-query
    scrape_interval: 15s
    static_configs:
      - targets:
          - "thanos-query:10904"
